var burgerBtn,burgerBars,mobileNav,headerSection,navDesktop,aboutSection,aboutSectionText,aboutSectionImg,heroImageFirst,heroImageSecond,heroSection,offerSection,offerElements,shopSection,ShopImages,coursesSectionMobile,coursesSectionDesktop,coursesImages,navMobileItems,trainingBtns,prepareDomElements=function(){burgerBtn=document.querySelector(".burger-btn"),burgerBars=document.querySelector(".burger-btn__bars"),mobileNav=document.querySelector(".navbar__mobile"),headerSection=document.querySelector(".header"),navDesktop=document.querySelector(".navbar__desktop"),aboutSection=document.querySelector(".about"),aboutSectionImg=document.querySelector(".about__photo"),aboutSectionText=document.querySelector(".about__text"),heroImageFirst=document.querySelector(".hero__background--first"),heroImageSecond=document.querySelector(".hero__background--second"),heroSection=document.querySelector(".hero"),offerSection=document.querySelector(".offers"),offerElements=document.querySelectorAll(".offers__container--main"),shopSection=document.querySelector(".shop"),ShopImages=document.querySelectorAll(".shop__photo"),coursesSectionMobile=document.querySelector(".courses__mobile"),coursesSectionDesktop=document.querySelector(".courses__desktop"),coursesImages=document.querySelectorAll(".courses__photo"),navMobileItems=document.querySelectorAll(".navbar__item"),trainingBtns=document.querySelectorAll(".training__btn")},windowHeight=window.innerHeight;function toggleSectionVisibility(e){var e=e.target.getAttribute("data-target"),o=document.getElementById(e);o?o.classList.contains("activeTraining")?(o.classList.remove("activeTraining"),setTimeout(function(){o.style.display="none"},500)):(o.style.display="block",setTimeout(function(){o.classList.add("activeTraining")},10)):console.error("Sekcja z ID '".concat(e,"' nie istnieje!"))}var handleShowAbout=function(){aboutSection.getBoundingClientRect().top<=.5*windowHeight?(aboutSectionImg.classList.add("activeAnimation"),aboutSectionText.classList.add("activeSecondAnimation")):(aboutSectionImg.classList.remove("activeAnimation"),aboutSectionText.classList.remove("activeSecondAnimation"))},heroHandle=function(){heroSection.getBoundingClientRect().top<=.5*windowHeight?(heroImageFirst.classList.add("heroAvtive"),heroImageSecond.classList.add("heroDelay")):(heroImageFirst.classList.remove("heroAvtive"),heroImageSecond.classList.remove("heroDelay"))},handleShowOffer=function(){offerSection.getBoundingClientRect().top<=.6*windowHeight?offerElements.forEach(function(e,o){e.style.animationDelay="".concat(o,"s"),e.classList.add("activeOffer")}):offerElements.forEach(function(e){e.classList.remove("activeOffer")})},handleShowShop=function(){shopSection.getBoundingClientRect().top<=.6*windowHeight?ShopImages.forEach(function(e,o){e.style.animationDelay="".concat(o,"s"),e.classList.add("activeShop"),console.log("object")}):ShopImages.forEach(function(e){e.classList.remove("activeShop")})},handleShowCourses=function(){var e=window.innerHeight;coursesSectionMobile&&coursesSectionMobile.getBoundingClientRect().top<=.8*e&&coursesSectionMobile.classList.add("coursesActive"),coursesSectionDesktop&&coursesSectionDesktop.getBoundingClientRect().top<=.8*e&&coursesImages.forEach(function(e,o){e.classList.contains("coursesActive")||(e.style.animationDelay="".concat(.3*o,"s"),e.classList.add("coursesActive"))})},handleCloseNav=function(){mobileNav.classList.remove("navbarActive"),burgerBtn.classList.remove("burger-active"),burgerBars.classList.remove("black-bars-color")},burgerHandle=function(){burgerBtn.classList.toggle("burger-active"),burgerBars.classList.toggle("black-bars-color"),mobileNav.classList.toggle("navbarActive")},navHandle=function(){headerSection.getBoundingClientRect().top<=.6*windowHeight&&(navDesktop.style.position="sticky",navDesktop.style.top="0",navDesktop.style.zIndex="10000")},prepareDomEvents=function(){var e="home"===document.body.id;burgerBtn.addEventListener("click",burgerHandle),window.addEventListener("scroll",navHandle),navMobileItems.forEach(function(e){return e.addEventListener("click",handleCloseNav)}),trainingBtns.forEach(function(e){return e.addEventListener("click",toggleSectionVisibility)}),e&&(window.addEventListener("scroll",handleShowAbout),window.addEventListener("scroll",heroHandle),window.addEventListener("scroll",handleShowOffer),window.addEventListener("scroll",handleShowShop),window.addEventListener("scroll",handleShowCourses))},main=function(){prepareDomElements(),prepareDomEvents()};window.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYnVyZ2VyQnRuIiwiYnVyZ2VyQmFycyIsIm1vYmlsZU5hdiIsImhlYWRlclNlY3Rpb24iLCJuYXZEZXNrdG9wIiwiYWJvdXRTZWN0aW9uIiwiYWJvdXRTZWN0aW9uVGV4dCIsImFib3V0U2VjdGlvbkltZyIsImhlcm9JbWFnZUZpcnN0IiwiaGVyb0ltYWdlU2Vjb25kIiwiaGVyb1NlY3Rpb24iLCJvZmZlclNlY3Rpb24iLCJvZmZlckVsZW1lbnRzIiwic2hvcFNlY3Rpb24iLCJTaG9wSW1hZ2VzIiwiY291cnNlc1NlY3Rpb25Nb2JpbGUiLCJjb3Vyc2VzU2VjdGlvbkRlc2t0b3AiLCJjb3Vyc2VzSW1hZ2VzIiwicHJlcGFyZURvbUVsZW1lbnRzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsIm5hdk1vYmlsZUl0ZW1zIiwidHJhaW5pbmdCdG5zIiwidGFyZ2V0U2VjdGlvbiIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwidG9nZ2xlU2VjdGlvblZpc2liaWxpdHkiLCJldmVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImdldEVsZW1lbnRCeUlkIiwidGFyZ2V0SWQiLCJjb250YWlucyIsImRpc3BsYXkiLCJzZXRUaW1lb3V0IiwiZXJyb3IiLCJzdHlsZSIsImhhbmRsZVNob3dBYm91dCIsImFib3V0U2VjdGlvblRvcCIsImhlcm9TZWN0aW9uVG9wIiwid2luZG93SGVpZ2h0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwiYWRkIiwib2ZmZXJTZWN0aW9uVG9wIiwiaGVyb0hhbmRsZSIsInNob3BTZWN0aW9uVG9wIiwiaGFuZGxlU2hvd09mZmVyIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJpbmRleCIsImFuaW1hdGlvbkRlbGF5IiwiY29uY2F0IiwiY29uc29sZSIsImxvZyIsImhhbmRsZUNsb3NlTmF2IiwiekluZGV4IiwiYm9keSIsImJ1cmdlckhhbmRsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJuYXZIYW5kbGUiLCJidXR0b24iLCJtYWluIiwicHJlcGFyZURvbUV2ZW50cyIsInRvZ2dsZSIsInBvc2l0aW9uIiwiaXNIb21lIiwiaWQiLCJlbCIsImhhbmRsZVNob3dTaG9wIiwiaGFuZGxlU2hvd0NvdXJzZXMiXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLFVBQ0FDLFdBREFELFVBQ0FDLGNBQ0FDLFdBQ0FDLGFBQ0FDLGlCQUNBQyxnQkFDQUMsZUFDQUMsZ0JBQ0FDLFlBQ0FDLGFBQ0FDLGNBQ0FDLFlBQ0FDLFdBQ0FDLHFCQUNBQyxzQkFDQUMsY0FDQUMsZUFDQUMsYUFLRUMsbUJBQXFCLFdBU3ZCZixVQUFhZ0IsU0FBR0EsY0FBU0MsYUFBd0IsRUFDakRoQixXQUFhZSxTQUFTQyxjQUFjLG1CQUFtQixFQUN2RGYsVUFBWWMsU0FBV0MsY0FBYyxpQkFBVSxFQUMvQ2IsY0FBa0JZLFNBQVNDLGNBQWMsU0FBQSxFQUN6Q2QsV0FBQUEsU0FBbUJhLGNBQVNDLGtCQUE0QixFQUN4RFosYUFBaUJXLFNBQVNDLGNBQWMsUUFBQSxFQUN4Q1gsZ0JBQWtCVSxTQUFTQyxjQUFjLGVBQUEsRUFDekNWLGlCQUFjUyxTQUFTQyxjQUFxQixjQUFDLEVBQzdDVCxlQUFlUSxTQUFTQyxjQUFjLDBCQUFVLEVBQ2hEUixnQkFBZ0JPLFNBQVNFLGNBQWlCLDJCQUEyQixFQUNyRVIsWUFBY00sU0FBU0MsY0FBYyxPQUFRLEVBQzdDTixhQUFhSyxTQUFTRSxjQUFpQixTQUFBLEVBQ3ZDTixjQUFBQSxTQUF1QkksaUJBQVNDLDBCQUFpQyxFQUNqRUosWUFBQUEsU0FBd0JHLGNBQVNDLE9BQWEsRUFDOUNILFdBQWFFLFNBQVdFLGlCQUFpQixjQUFDLEVBQzFDQyxxQkFBeUJILFNBQUNFLGNBQWlCLGtCQUFnQixFQUMzREUsc0JBQXdCRixTQUFBQSxjQUFpQixtQkFBaUIsRUFHN0RKLGNBQUFFLFNBQUFFLGlCQUFBLGlCQUFBLEVBSkdDLGVBQWlCSCxTQUFTRSxpQkFBaUIsZUFBZSxFQU05REUsYUFBQUos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QSxrQkFBQSxFQUtEeEMsVUFBT21DLFVBQWlCSyxPQUFBLGNBQW9CRixDQTFENUMsRUFFTUYsVUFBWSxXQUVVMUQsY0FBY3VDLHNCQUFzQixFQUFFQyxLQUV4QixHQUFmRixlQUNuQnJDLFdBQVdpQyxNQUFNNkIsU0FBVyxTQUM1QjlELFdBQVdpQyxNQUFNTSxJQUFNLElBQ3ZCdkMsV0FBV2lDLE1BQU1vQixPQUFTLFFBR2xDLEVBUU1PLGlCQUFtQixXQUlyQixJQUNNRyxFQUFxQixTQURkaEQsU0FBU3VDLEtBQ0ZVLEdBR3BCcEUsVUFBVTRELGlCQUFpQixRQUFTRCxZQUFZLEVBQ2hEbEMsT0FBT21DLGlCQUFpQixTQUFVQyxTQUFTLEVBQzNDdkMsZUFBZTJCLFFBQVEsU0FBQW9CLEdBQUUsT0FBSUEsRUFBR1QsaUJBQWlCLFFBQVNKLGNBQWMsQ0FBQyxDQUFBLEVBQ3pFakMsYUFBYTBCLFFBQVEsU0FBQWEsR0FBTSxPQUFJQSxFQUFPRixpQkFBaUIsUUFBU2pDLHVCQUF1QixDQUFDLENBQUEsRUFFcEZ3QyxJQUNBMUMsT0FBT21DLGlCQUFpQixTQUFVdEIsZUFBZSxFQUNqRGIsT0FBT21DLGlCQUFpQixTQUFVZCxVQUFVLEVBQzVDckIsT0FBT21DLGlCQUFpQixTQUFVWixlQUFlLEVBQ2pEdkIsT0FBT21DLGlCQUFpQixTQUFVVSxjQUFjLEVBQ2hEN0MsT0FBT21DLGlCQUFpQixTQUFVVyxpQkFBaUIsRUFNM0QsRUFJTVIsS0FBTyxXQUdUN0MsbUJBQW1CLEVBQ25COEMsaUJBQWlCLENBQ3JCLEVBS0F2QyxPQUFPbUMsaUJBQWlCLG1CQUFvQkcsSUFBSSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBidXJnZXJCdG47XHJcbmxldCBidXJnZXJCYXJzO1xyXG5sZXQgbW9iaWxlTmF2O1xyXG5sZXQgaGVhZGVyU2VjdGlvbjtcclxubGV0IG5hdkRlc2t0b3A7XHJcbmxldCBhYm91dFNlY3Rpb247XHJcbmxldCBhYm91dFNlY3Rpb25UZXh0O1xyXG5sZXQgYWJvdXRTZWN0aW9uSW1nO1xyXG5sZXQgaGVyb0ltYWdlRmlyc3Q7XHJcbmxldCBoZXJvSW1hZ2VTZWNvbmQ7XHJcbmxldCBoZXJvU2VjdGlvbjtcclxubGV0IG9mZmVyU2VjdGlvblxyXG5sZXQgb2ZmZXJFbGVtZW50cztcclxubGV0IHNob3BTZWN0aW9uO1xyXG5sZXQgU2hvcEltYWdlcztcclxubGV0IGNvdXJzZXNTZWN0aW9uTW9iaWxlO1xyXG5sZXQgY291cnNlc1NlY3Rpb25EZXNrdG9wO1xyXG5sZXQgY291cnNlc0ltYWdlcztcclxubGV0IG5hdk1vYmlsZUl0ZW1zO1xyXG5sZXQgdHJhaW5pbmdCdG5zO1xyXG5cclxuXHJcbmNvbnN0IHByZXBhcmVEb21FbGVtZW50cyA9ICgpID0+IHtcclxuXHJcbiAgICAvLy8vLy8vLyBQT0JJRVJBTklFIEVMRU1FTlTDk1cgU1RST05ZIC8vLy8vL1xyXG5cclxuXHJcblxyXG4gICAgYnVyZ2VyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1idG4nKVxyXG4gICAgYnVyZ2VyQmFycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItYnRuX19iYXJzJylcclxuICAgIG1vYmlsZU5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXJfX21vYmlsZScpXHJcbiAgICBoZWFkZXJTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpXHJcbiAgICBuYXZEZXNrdG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcl9fZGVza3RvcCcpXHJcbiAgICBhYm91dFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWJvdXQnKVxyXG4gICAgYWJvdXRTZWN0aW9uSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFib3V0X19waG90bycpXHJcbiAgICBhYm91dFNlY3Rpb25UZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFib3V0X190ZXh0JylcclxuICAgIGhlcm9JbWFnZUZpcnN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlcm9fX2JhY2tncm91bmQtLWZpcnN0JylcclxuICAgIGhlcm9JbWFnZVNlY29uZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvX19iYWNrZ3JvdW5kLS1zZWNvbmQnKVxyXG4gICAgaGVyb1NlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVybycpXHJcbiAgICBvZmZlclNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub2ZmZXJzJylcclxuICAgIG9mZmVyRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcub2ZmZXJzX19jb250YWluZXItLW1haW4nKVxyXG4gICAgc2hvcFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2hvcCcpXHJcbiAgICBTaG9wSW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNob3BfX3Bob3RvJylcclxuICAgIGNvdXJzZXNTZWN0aW9uTW9iaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvdXJzZXNfX21vYmlsZScpXHJcbiAgICBjb3Vyc2VzU2VjdGlvbkRlc2t0b3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY291cnNlc19fZGVza3RvcCcpXHJcbiAgICBjb3Vyc2VzSW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvdXJzZXNfX3Bob3RvJylcclxuICAgIG5hdk1vYmlsZUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdmJhcl9faXRlbScpXHJcbiAgICB0cmFpbmluZ0J0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudHJhaW5pbmdfX2J0bicpXHJcbiAgICBcclxuXHJcbn1cclxuXHJcbi8vRlVOQ1RJT05TXHJcbmNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHJcblxyXG5mdW5jdGlvbiB0b2dnbGVTZWN0aW9uVmlzaWJpbGl0eShldmVudCkge1xyXG4gICAgY29uc3QgdGFyZ2V0SWQgPSBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXRhcmdldCcpOyAvLyBQb2JpZXJ6IElEIHNla2NqaVxyXG4gICAgY29uc3QgdGFyZ2V0U2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldElkKTsgLy8gWm5hamTFuiBzZWtjasSZIHBvIElEXHJcblxyXG4gICAgaWYgKHRhcmdldFNlY3Rpb24pIHtcclxuICAgICAgICAvLyBTcHJhd2R6YW15LCBjenkgc2VrY2phIGplc3QganXFvCB3aWRvY3puYVxyXG4gICAgICAgIGlmICh0YXJnZXRTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlVHJhaW5pbmcnKSkge1xyXG4gICAgICAgICAgICAvLyBKZcWbbGkgc2VrY2phIGplc3Qgd2lkb2N6bmEsIHVrcnl3YW15IGrEhVxyXG4gICAgICAgICAgICB0YXJnZXRTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZVRyYWluaW5nJyk7XHJcbiAgICAgICAgICAgIC8vIEN6ZWthbXkgbmEgemFrb8WEY3plbmllIGFuaW1hY2ppIHByemVkIHVzdGF3aWVuaWVtIGRpc3BsYXk6IG5vbmVcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRTZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIH0sIDUwMCk7IC8vIFBvIDUwMG1zIChjemFzIHRyd2FuaWEgYW5pbWFjamkpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSmXFm2xpIHNla2NqYSBuaWUgamVzdCB3aWRvY3puYSwgdXN0YXdpYW15IGRpc3BsYXk6IGJsb2NrXHJcbiAgICAgICAgICAgIHRhcmdldFNlY3Rpb24uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgICAgIC8vIEN6ZWthbXkgbmEgemHFgmFkb3dhbmllIGxheW91dHUgKG9ww7PFum5pZW5pZSAxMG1zKSwgYWJ5IGFuaW1hY2phIG1vZ8WCYSB6YWR6aWHFgmHEh1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRhcmdldFNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlVHJhaW5pbmcnKTtcclxuICAgICAgICAgICAgfSwgMTApOyAvLyBLcsOzdGtpZSBvcMOzxbpuaWVuaWUgcG96d2FsYSBuYSB6YWluaWNqb3dhbmllIGFuaW1hY2ppXHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGBTZWtjamEgeiBJRCAnJHt0YXJnZXRJZH0nIG5pZSBpc3RuaWVqZSFgKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbmNvbnN0IGhhbmRsZVNob3dBYm91dCA9ICgpID0+IHtcclxuXHJcbiAgICBjb25zdCBhYm91dFNlY3Rpb25Ub3AgPSBhYm91dFNlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG5cclxuXHJcbiAgICBpZiAoYWJvdXRTZWN0aW9uVG9wIDw9IHdpbmRvd0hlaWdodCAqIDAuNSkge1xyXG4gICAgICAgIGFib3V0U2VjdGlvbkltZy5jbGFzc0xpc3QuYWRkKCdhY3RpdmVBbmltYXRpb24nKVxyXG4gICAgICAgIGFib3V0U2VjdGlvblRleHQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlU2Vjb25kQW5pbWF0aW9uJylcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWJvdXRTZWN0aW9uSW1nLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZUFuaW1hdGlvbicpXHJcbiAgICAgICAgYWJvdXRTZWN0aW9uVGV4dC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmVTZWNvbmRBbmltYXRpb24nKVxyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcbmNvbnN0IGhlcm9IYW5kbGUgPSAoKSA9PiB7XHJcblxyXG4gICAgY29uc3QgaGVyb1NlY3Rpb25Ub3AgPSBoZXJvU2VjdGlvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3BcclxuICAgIGlmIChoZXJvU2VjdGlvblRvcCA8PSB3aW5kb3dIZWlnaHQgKiAwLjUpIHtcclxuICAgICAgICBoZXJvSW1hZ2VGaXJzdC5jbGFzc0xpc3QuYWRkKCdoZXJvQXZ0aXZlJylcclxuICAgICAgICBoZXJvSW1hZ2VTZWNvbmQuY2xhc3NMaXN0LmFkZCgnaGVyb0RlbGF5JylcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaGVyb0ltYWdlRmlyc3QuY2xhc3NMaXN0LnJlbW92ZSgnaGVyb0F2dGl2ZScpXHJcbiAgICAgICAgaGVyb0ltYWdlU2Vjb25kLmNsYXNzTGlzdC5yZW1vdmUoJ2hlcm9EZWxheScpXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVTaG93T2ZmZXIgPSAoKSA9PiB7XHJcblxyXG4gICAgY29uc3Qgb2ZmZXJTZWN0aW9uVG9wID0gb2ZmZXJTZWN0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcFxyXG4gICAgaWYgKG9mZmVyU2VjdGlvblRvcCA8PSB3aW5kb3dIZWlnaHQgKiAwLjYpIHtcclxuICAgICAgICBvZmZlckVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuYW5pbWF0aW9uRGVsYXkgPSBgJHtpbmRleH1zYDtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhY3RpdmVPZmZlcicpO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEplxZtsaSBzZWtjamEgbmllIGplc3Qgd2lkb2N6bmEsIHVzdXdhbXkgYW5pbWFjasSZIHogZWxlbWVudMOzd1xyXG4gICAgICAgIG9mZmVyRWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmVPZmZlcicpOyAvLyBVc3V3YW15IGtsYXPEmSwgYWJ5IHphdHJ6eW1hxIcgYW5pbWFjasSZXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVTaG93U2hvcCA9ICgpID0+IHtcclxuICAgIGNvbnN0IHNob3BTZWN0aW9uVG9wID0gc2hvcFNlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wXHJcblxyXG4gICAgaWYgKHNob3BTZWN0aW9uVG9wIDw9IHdpbmRvd0hlaWdodCAqIDAuNikge1xyXG4gICAgICAgIFNob3BJbWFnZXMuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5hbmltYXRpb25EZWxheSA9IGAke2luZGV4fXNgXHJcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlU2hvcCcpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwib2JqZWN0XCIpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBTaG9wSW1hZ2VzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcblxyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZVNob3AnKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcblxyXG5jb25zdCBoYW5kbGVTaG93Q291cnNlcyA9ICgpID0+IHtcclxuICAgIGNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHJcbiAgICBpZiAoY291cnNlc1NlY3Rpb25Nb2JpbGUpIHtcclxuICAgICAgICBjb25zdCBjb3Vyc2VzTW9iaWxlVG9wID0gY291cnNlc1NlY3Rpb25Nb2JpbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgICAgIGlmIChjb3Vyc2VzTW9iaWxlVG9wIDw9IHdpbmRvd0hlaWdodCAqIDAuOCkge1xyXG4gICAgICAgICAgICBjb3Vyc2VzU2VjdGlvbk1vYmlsZS5jbGFzc0xpc3QuYWRkKCdjb3Vyc2VzQWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChjb3Vyc2VzU2VjdGlvbkRlc2t0b3ApIHtcclxuICAgICAgICBjb25zdCBjb3Vyc2VzRGVza3RvcFRvcCA9IGNvdXJzZXNTZWN0aW9uRGVza3RvcC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICAgICAgaWYgKGNvdXJzZXNEZXNrdG9wVG9wIDw9IHdpbmRvd0hlaWdodCAqIDAuOCkge1xyXG4gICAgICAgICAgICBjb3Vyc2VzSW1hZ2VzLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjb3Vyc2VzQWN0aXZlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmFuaW1hdGlvbkRlbGF5ID0gYCR7aW5kZXggKiAwLjN9c2A7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdjb3Vyc2VzQWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG4gY29uc3QgaGFuZGxlQ2xvc2VOYXYgPSAoKSA9PiB7XHJcbiAgICBtb2JpbGVOYXYuY2xhc3NMaXN0LnJlbW92ZSgnbmF2YmFyQWN0aXZlJylcclxuICAgICBidXJnZXJCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYnVyZ2VyLWFjdGl2ZScpXHJcbiAgICAgYnVyZ2VyQmFycy5jbGFzc0xpc3QucmVtb3ZlKCdibGFjay1iYXJzLWNvbG9yJykgICBcclxuIH1cclxuXHJcbmNvbnN0IGJ1cmdlckhhbmRsZSA9ICgpID0+IHtcclxuXHJcbiAgICBidXJnZXJCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnYnVyZ2VyLWFjdGl2ZScpXHJcbiAgICBidXJnZXJCYXJzLmNsYXNzTGlzdC50b2dnbGUoJ2JsYWNrLWJhcnMtY29sb3InKVxyXG4gICAgbW9iaWxlTmF2LmNsYXNzTGlzdC50b2dnbGUoJ25hdmJhckFjdGl2ZScpO1xyXG59XHJcblxyXG5jb25zdCBuYXZIYW5kbGUgPSAoKSA9PiB7XHJcblxyXG4gICAgY29uc3QgaGVhZGVyU2VjdGlvVG9wID0gaGVhZGVyU2VjdGlvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3BcclxuXHJcbiAgICBpZiAoaGVhZGVyU2VjdGlvVG9wIDw9IHdpbmRvd0hlaWdodCAqIDAuNikge1xyXG4gICAgICAgIG5hdkRlc2t0b3Auc3R5bGUucG9zaXRpb24gPSBcInN0aWNreVwiO1xyXG4gICAgICAgIG5hdkRlc2t0b3Auc3R5bGUudG9wID0gXCIwXCJcclxuICAgICAgICBuYXZEZXNrdG9wLnN0eWxlLnpJbmRleCA9IFwiMTAwMDBcIlxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuLy8gTmFzxYJ1Y2hpd2FuaWUgc2Nyb2xsYVxyXG5cclxuXHJcblxyXG5cclxuXHJcbmNvbnN0IHByZXBhcmVEb21FdmVudHMgPSAoKSA9PiB7XHJcblxyXG4gICAgLy8vLy8vLy8vLyBXWVdPxYFBTklFIEZVTktDSkkgLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xyXG4gICAgY29uc3QgaXNIb21lID0gYm9keS5pZCA9PT0gXCJob21lXCI7XHJcblxyXG4gICAgXHJcbiAgICBidXJnZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGJ1cmdlckhhbmRsZSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBuYXZIYW5kbGUpO1xyXG4gICAgbmF2TW9iaWxlSXRlbXMuZm9yRWFjaChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQ2xvc2VOYXYpKTtcclxuICAgIHRyYWluaW5nQnRucy5mb3JFYWNoKGJ1dHRvbiA9PiBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRvZ2dsZVNlY3Rpb25WaXNpYmlsaXR5KSk7XHJcblxyXG4gICAgaWYgKGlzSG9tZSkge1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZVNob3dBYm91dCk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGVyb0hhbmRsZSk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlU2hvd09mZmVyKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTaG93U2hvcCk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlU2hvd0NvdXJzZXMpO1xyXG5cclxuICAgIH1cclxuXHJcbiBcclxuXHJcbn1cclxuXHJcbi8vLy8vIEfFgU9XTkUgV1lXT8WBQU5JRSBGVU5LQ0pJIC8vLy8vXHJcblxyXG5jb25zdCBtYWluID0gKCkgPT4ge1xyXG4gIFxyXG5cclxuICAgIHByZXBhcmVEb21FbGVtZW50cygpO1xyXG4gICAgcHJlcGFyZURvbUV2ZW50cygpO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW4pIl19
