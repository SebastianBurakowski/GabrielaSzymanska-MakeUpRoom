var burgerBtn,burgerBars,mobileNav,headerSection,navDesktop,aboutSection,aboutSectionText,aboutSectionImg,heroImageFirst,heroImageSecond,heroSection,shopSection,ShopImages,navMobileItems,trainingBtns,contactForm,prepareDomElements=function(){burgerBtn=document.querySelector(".burger-btn"),burgerBars=document.querySelector(".burger-btn__bars"),mobileNav=document.querySelector(".navbar__mobile"),headerSection=document.querySelector(".header"),navDesktop=document.querySelector(".navbar__desktop"),aboutSection=document.querySelector(".about"),aboutSectionImg=document.querySelector(".about__photo"),aboutSectionText=document.querySelector(".about__text"),heroImageFirst=document.querySelector(".hero__background--first"),heroImageSecond=document.querySelector(".hero__background--second"),heroSection=document.querySelector(".hero"),shopSection=document.querySelector(".shop"),ShopImages=document.querySelectorAll(".shop__photo"),navMobileItems=document.querySelectorAll(".navbar__item"),trainingBtns=document.querySelectorAll(".training__btn"),contactForm=document.getElementById("contact-form")},windowHeight=window.innerHeight;function toggleSectionVisibility(e){var e=e.target.getAttribute("data-target"),t=document.getElementById(e);t?t.classList.contains("activeTraining")?(t.classList.remove("activeTraining"),setTimeout(function(){t.style.display="none"},500)):(t.style.display="block",setTimeout(function(){t.classList.add("activeTraining")},10)):console.error("Sekcja z ID '".concat(e,"' nie istnieje!"))}var handleShowAbout=function(){aboutSection.getBoundingClientRect().top<=.5*windowHeight?(aboutSectionImg.classList.add("activeAnimation"),aboutSectionText.classList.add("activeSecondAnimation")):(aboutSectionImg.classList.remove("activeAnimation"),aboutSectionText.classList.remove("activeSecondAnimation"))},heroHandle=function(){heroSection.getBoundingClientRect().top<=.5*windowHeight?(heroImageFirst.classList.add("heroAvtive"),heroImageSecond.classList.add("heroDelay")):(heroImageFirst.classList.remove("heroAvtive"),heroImageSecond.classList.remove("heroDelay"))},handleShowShop=function(){shopSection.getBoundingClientRect().top<=.6*windowHeight?ShopImages.forEach(function(e,t){e.style.animationDelay="".concat(t,"s"),e.classList.add("activeShop")}):ShopImages.forEach(function(e){e.classList.remove("activeShop")})},handleCloseNav=function(){mobileNav.classList.remove("navbarActive"),burgerBtn.classList.remove("burger-active"),burgerBars.classList.remove("black-bars-color")},burgerHandle=function(){burgerBtn.classList.toggle("burger-active"),burgerBars.classList.toggle("black-bars-color"),mobileNav.classList.toggle("navbarActive")},navHandle=function(){headerSection.getBoundingClientRect().top<=.6*windowHeight&&(navDesktop.style.position="sticky",navDesktop.style.top="0",navDesktop.style.zIndex="10000")};function sendEmail(e){e.preventDefault();e={name:document.getElementById("name").value,email:document.getElementById("email").value,message:document.getElementById("message").value};emailjs.send("service_r93wqo9","template_z1pqleg",e).then(function(e){alert("Wiadomość została wysłana!"),console.log("SUCCESS:",e),contactForm.reset()}).catch(function(e){alert("Błąd! Nie udało się wysłać wiadomości."),console.log("FAILED:",e)})}emailjs.init("jHIfPX98y0hvZ0KKR");var prepareDomEvents=function(){var e="home"===document.body.id;burgerBtn.addEventListener("click",burgerHandle),window.addEventListener("scroll",navHandle),navMobileItems.forEach(function(e){return e.addEventListener("click",handleCloseNav)}),trainingBtns.forEach(function(e){return e.addEventListener("click",toggleSectionVisibility)}),contactForm.addEventListener("submit",sendEmail),e&&(window.addEventListener("scroll",handleShowAbout),window.addEventListener("scroll",heroHandle),window.addEventListener("scroll",handleShowShop))},main=function(){prepareDomElements(),prepareDomEvents()};window.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYnVyZ2VyQnRuIiwiYnVyZ2VyQmFycyIsIm1vYmlsZU5hdiIsImhlYWRlclNlY3Rpb24iLCJuYXZEZXNrdG9wIiwiYWJvdXRTZWN0aW9uIiwiYWJvdXRTZWN0aW9uVGV4dCIsImFib3V0U2VjdGlvbkltZyIsImhlcm9JbWFnZUZpcnN0IiwiaGVyb0ltYWdlU2Vjb25kIiwiaGVyb1NlY3Rpb24iLCJzaG9wU2VjdGlvbiIsIlNob3BJbWFnZXMiLCJuYXZNb2JpbGVJdGVtcyIsInByZXBhcmVEb21FbGVtZW50cyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0cmFpbmluZ0J0bnMiLCJjb250YWN0Rm9ybSIsImdldEVsZW1lbnRCeUlkIiwidGFyZ2V0U2VjdGlvbiIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwidG9nZ2xlU2VjdGlvblZpc2liaWxpdHkiLCJldmVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsInRhcmdldElkIiwiY29udGFpbnMiLCJkaXNwbGF5Iiwic2V0VGltZW91dCIsImVycm9yIiwic3R5bGUiLCJoYW5kbGVTaG93QWJvdXQiLCJhYm91dFNlY3Rpb25Ub3AiLCJoZXJvU2VjdGlvblRvcCIsIndpbmRvd0hlaWdodCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsImFkZCIsInNob3BTZWN0aW9uVG9wIiwiZm9yRWFjaCIsImhhbmRsZUNsb3NlTmF2IiwiaGFuZGxlU2hvd1Nob3AiLCJuYXZIYW5kbGUiLCJwb3NpdGlvbiIsImluZGV4IiwiYW5pbWF0aW9uRGVsYXkiLCJjb25jYXQiLCJpbml0IiwiZWxlbWVudCIsInByZXZlbnREZWZhdWx0IiwiYWxlcnQiLCJjb25zb2xlIiwibG9nIiwicmVzcG9uc2UiLCJidXJnZXJIYW5kbGUiLCJwcmVwYXJlRG9tRXZlbnRzIiwidG9nZ2xlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImJ1dHRvbiIsInpJbmRleCIsInNlbmRFbWFpbCIsInZhbHVlIiwiZW1haWwiLCJlbWFpbGpzIiwic2VuZCIsImZvcm1EYXRhIiwidGhlbiIsInJlc2V0IiwiaXNIb21lIiwiYm9keSIsImlkIiwiZWwiLCJoZXJvSGFuZGxlIiwibWFpbiJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsVUFDQUMsV0FEQUQsVUFDQUMsY0FDQUMsV0FDQUMsYUFDQUMsaUJBQ0FDLGdCQUNBQyxlQUNBQyxnQkFDQUMsWUFDQUMsWUFDQUMsV0FDQUMsZUFDQUMsYUFDQUMsWUFLRUMsbUJBQXFCLFdBU3ZCWCxVQUFhWSxTQUFHQSxjQUFTQyxhQUF3QixFQUNqRFosV0FBYVcsU0FBU0MsY0FBYyxtQkFBbUIsRUFDdkRYLFVBQVlVLFNBQVdDLGNBQWMsaUJBQVUsRUFDL0NULGNBQWtCUSxTQUFTQyxjQUFjLFNBQUEsRUFDekNWLFdBQUFBLFNBQW1CUyxjQUFTQyxrQkFBNEIsRUFDeERSLGFBQWlCTyxTQUFTQyxjQUFjLFFBQUEsRUFDeENQLGdCQUFrQk0sU0FBU0MsY0FBYyxlQUFBLEVBQ3pDTixpQkFBY0ssU0FBU0MsY0FBcUIsY0FBQyxFQUM3Q0wsZUFBY0ksU0FBU0MsY0FBYywwQkFBUSxFQUM3Q0osZ0JBQWFHLFNBQVNFLGNBQWlCLDJCQUFlLEVBQ3RESixZQUFjRSxTQUFXQyxjQUFDQyxPQUFpQixFQUMzQ0MsWUFBZUgsU0FBU0UsY0FBQUEsT0FBaUIsRUFDekNFLFdBQWNKLFNBQVNLLGlCQUFlLGNBQWUsRUFHeERQLGVBQUFFLFNBQUFFLGlCQUFBLGVBQUEsRUFKR0MsYUFBZUgsU0FBU0UsaUJBQWlCLGdCQUFnQixFQU03REUsWUFBQUosU0FBQUssZUFBQSxjQUFBLENBRkEsRUFVUUMsYUFBZUMsT0FBQUMsWUFKdkIsU0FPWUMsd0JBQUFDLEdBTlIsSUFPUUosRUFBY0ssRUFBQUEsT0FBVUMsYUFBTyxhQUFpQixFQUNoRE4sRUFBQU4sU0FBQUssZUFBQVEsQ0FBQSxFQUVJUCxFQUVEQSxFQUFBSyxVQUFBRyxTQUFBLGdCQUFBLEdBRUhSLEVBQW9CUyxVQUFVSCxP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akIsY0FBYyxDQUFDLENBQUEsRUFDekV6QixhQUFhd0IsUUFBUSxTQUFBbUIsR0FBTSxPQUFJQSxFQUFPRCxpQkFBaUIsUUFBU3BDLHVCQUF1QixDQUFDLENBQUEsRUFDeEZMLFlBQVl5QyxpQkFBaUIsU0FBVUcsU0FBUyxFQUU1Q1EsSUFDQWpELE9BQU9zQyxpQkFBaUIsU0FBVTFCLGVBQWUsRUFDakRaLE9BQU9zQyxpQkFBaUIsU0FBVWUsVUFBVSxFQUM1Q3JELE9BQU9zQyxpQkFBaUIsU0FBVWhCLGNBQWMsRUFNeEQsRUFJTWdDLEtBQU8sV0FHVDlELG1CQUFtQixFQUNuQjRDLGlCQUFpQixDQUNyQixFQUtBcEMsT0FBT3NDLGlCQUFpQixtQkFBb0JnQixJQUFJIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IGJ1cmdlckJ0bjtcclxubGV0IGJ1cmdlckJhcnM7XHJcbmxldCBtb2JpbGVOYXY7XHJcbmxldCBoZWFkZXJTZWN0aW9uO1xyXG5sZXQgbmF2RGVza3RvcDtcclxubGV0IGFib3V0U2VjdGlvbjtcclxubGV0IGFib3V0U2VjdGlvblRleHQ7XHJcbmxldCBhYm91dFNlY3Rpb25JbWc7XHJcbmxldCBoZXJvSW1hZ2VGaXJzdDtcclxubGV0IGhlcm9JbWFnZVNlY29uZDtcclxubGV0IGhlcm9TZWN0aW9uO1xyXG5sZXQgc2hvcFNlY3Rpb247XHJcbmxldCBTaG9wSW1hZ2VzO1xyXG5sZXQgbmF2TW9iaWxlSXRlbXM7XHJcbmxldCB0cmFpbmluZ0J0bnM7XHJcbmxldCBjb250YWN0Rm9ybTtcclxuXHJcblxyXG5jb25zdCBwcmVwYXJlRG9tRWxlbWVudHMgPSAoKSA9PiB7XHJcblxyXG4gICAgLy8vLy8vLy8gUE9CSUVSQU5JRSBFTEVNRU5Uw5NXIFNUUk9OWSAvLy8vLy9cclxuXHJcblxyXG5cclxuICAgIGJ1cmdlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItYnRuJylcclxuICAgIGJ1cmdlckJhcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLWJ0bl9fYmFycycpXHJcbiAgICBtb2JpbGVOYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyX19tb2JpbGUnKVxyXG4gICAgaGVhZGVyU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKVxyXG4gICAgbmF2RGVza3RvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXJfX2Rlc2t0b3AnKVxyXG4gICAgYWJvdXRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFib3V0JylcclxuICAgIGFib3V0U2VjdGlvbkltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hYm91dF9fcGhvdG8nKVxyXG4gICAgYWJvdXRTZWN0aW9uVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hYm91dF9fdGV4dCcpXHJcbiAgICBoZXJvSW1hZ2VGaXJzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZXJvX19iYWNrZ3JvdW5kLS1maXJzdCcpXHJcbiAgICBoZXJvSW1hZ2VTZWNvbmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVyb19fYmFja2dyb3VuZC0tc2Vjb25kJylcclxuICAgIGhlcm9TZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlcm8nKVxyXG4gICAgc2hvcFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2hvcCcpXHJcbiAgICBTaG9wSW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNob3BfX3Bob3RvJylcclxuICAgIG5hdk1vYmlsZUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdmJhcl9faXRlbScpXHJcbiAgICB0cmFpbmluZ0J0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudHJhaW5pbmdfX2J0bicpXHJcbiAgICBjb250YWN0Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFjdC1mb3JtXCIpO1xyXG4gICAgXHJcblxyXG59XHJcblxyXG4vL0ZVTkNUSU9OU1xyXG5jb25zdCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcblxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlU2VjdGlvblZpc2liaWxpdHkoZXZlbnQpIHtcclxuICAgIGNvbnN0IHRhcmdldElkID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS10YXJnZXQnKTsgLy8gUG9iaWVyeiBJRCBzZWtjamlcclxuICAgIGNvbnN0IHRhcmdldFNlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXRJZCk7IC8vIFpuYWpkxbogc2VrY2rEmSBwbyBJRFxyXG5cclxuICAgIGlmICh0YXJnZXRTZWN0aW9uKSB7XHJcbiAgICAgICAgLy8gU3ByYXdkemFteSwgY3p5IHNla2NqYSBqZXN0IGp1xbwgd2lkb2N6bmFcclxuICAgICAgICBpZiAodGFyZ2V0U2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZVRyYWluaW5nJykpIHtcclxuICAgICAgICAgICAgLy8gSmXFm2xpIHNla2NqYSBqZXN0IHdpZG9jem5hLCB1a3J5d2FteSBqxIVcclxuICAgICAgICAgICAgdGFyZ2V0U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmVUcmFpbmluZycpO1xyXG4gICAgICAgICAgICAvLyBDemVrYW15IG5hIHpha2/FhGN6ZW5pZSBhbmltYWNqaSBwcnplZCB1c3Rhd2llbmllbSBkaXNwbGF5OiBub25lXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0U2VjdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9LCA1MDApOyAvLyBQbyA1MDBtcyAoY3phcyB0cndhbmlhIGFuaW1hY2ppKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEplxZtsaSBzZWtjamEgbmllIGplc3Qgd2lkb2N6bmEsIHVzdGF3aWFteSBkaXNwbGF5OiBibG9ja1xyXG4gICAgICAgICAgICB0YXJnZXRTZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgICAgICAvLyBDemVrYW15IG5hIHphxYJhZG93YW5pZSBsYXlvdXR1IChvcMOzxbpuaWVuaWUgMTBtcyksIGFieSBhbmltYWNqYSBtb2fFgmEgemFkemlhxYJhxIdcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZVRyYWluaW5nJyk7XHJcbiAgICAgICAgICAgIH0sIDEwKTsgLy8gS3LDs3RraWUgb3DDs8W6bmllbmllIHBvendhbGEgbmEgemFpbmljam93YW5pZSBhbmltYWNqaVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgU2VrY2phIHogSUQgJyR7dGFyZ2V0SWR9JyBuaWUgaXN0bmllamUhYCk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5jb25zdCBoYW5kbGVTaG93QWJvdXQgPSAoKSA9PiB7XHJcblxyXG4gICAgY29uc3QgYWJvdXRTZWN0aW9uVG9wID0gYWJvdXRTZWN0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuXHJcblxyXG4gICAgaWYgKGFib3V0U2VjdGlvblRvcCA8PSB3aW5kb3dIZWlnaHQgKiAwLjUpIHtcclxuICAgICAgICBhYm91dFNlY3Rpb25JbWcuY2xhc3NMaXN0LmFkZCgnYWN0aXZlQW5pbWF0aW9uJylcclxuICAgICAgICBhYm91dFNlY3Rpb25UZXh0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZVNlY29uZEFuaW1hdGlvbicpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFib3V0U2VjdGlvbkltZy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmVBbmltYXRpb24nKVxyXG4gICAgICAgIGFib3V0U2VjdGlvblRleHQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlU2Vjb25kQW5pbWF0aW9uJylcclxuICAgIH1cclxuXHJcblxyXG59XHJcblxyXG5jb25zdCBoZXJvSGFuZGxlID0gKCkgPT4ge1xyXG5cclxuICAgIGNvbnN0IGhlcm9TZWN0aW9uVG9wID0gaGVyb1NlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wXHJcbiAgICBpZiAoaGVyb1NlY3Rpb25Ub3AgPD0gd2luZG93SGVpZ2h0ICogMC41KSB7XHJcbiAgICAgICAgaGVyb0ltYWdlRmlyc3QuY2xhc3NMaXN0LmFkZCgnaGVyb0F2dGl2ZScpXHJcbiAgICAgICAgaGVyb0ltYWdlU2Vjb25kLmNsYXNzTGlzdC5hZGQoJ2hlcm9EZWxheScpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGhlcm9JbWFnZUZpcnN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hlcm9BdnRpdmUnKVxyXG4gICAgICAgIGhlcm9JbWFnZVNlY29uZC5jbGFzc0xpc3QucmVtb3ZlKCdoZXJvRGVsYXknKVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbmNvbnN0IGhhbmRsZVNob3dTaG9wID0gKCkgPT4ge1xyXG4gICAgY29uc3Qgc2hvcFNlY3Rpb25Ub3AgPSBzaG9wU2VjdGlvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3BcclxuXHJcbiAgICBpZiAoc2hvcFNlY3Rpb25Ub3AgPD0gd2luZG93SGVpZ2h0ICogMC42KSB7XHJcbiAgICAgICAgU2hvcEltYWdlcy5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmFuaW1hdGlvbkRlbGF5ID0gYCR7aW5kZXh9c2BcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhY3RpdmVTaG9wJylcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBTaG9wSW1hZ2VzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcblxyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZVNob3AnKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcblxyXG5cclxuIGNvbnN0IGhhbmRsZUNsb3NlTmF2ID0gKCkgPT4ge1xyXG4gICAgbW9iaWxlTmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdmJhckFjdGl2ZScpXHJcbiAgICAgYnVyZ2VyQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2J1cmdlci1hY3RpdmUnKVxyXG4gICAgIGJ1cmdlckJhcnMuY2xhc3NMaXN0LnJlbW92ZSgnYmxhY2stYmFycy1jb2xvcicpICAgXHJcbiB9XHJcblxyXG5jb25zdCBidXJnZXJIYW5kbGUgPSAoKSA9PiB7XHJcblxyXG4gICAgYnVyZ2VyQnRuLmNsYXNzTGlzdC50b2dnbGUoJ2J1cmdlci1hY3RpdmUnKVxyXG4gICAgYnVyZ2VyQmFycy5jbGFzc0xpc3QudG9nZ2xlKCdibGFjay1iYXJzLWNvbG9yJylcclxuICAgIG1vYmlsZU5hdi5jbGFzc0xpc3QudG9nZ2xlKCduYXZiYXJBY3RpdmUnKTtcclxufVxyXG5cclxuY29uc3QgbmF2SGFuZGxlID0gKCkgPT4ge1xyXG5cclxuICAgIGNvbnN0IGhlYWRlclNlY3Rpb1RvcCA9IGhlYWRlclNlY3Rpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wXHJcblxyXG4gICAgaWYgKGhlYWRlclNlY3Rpb1RvcCA8PSB3aW5kb3dIZWlnaHQgKiAwLjYpIHtcclxuICAgICAgICBuYXZEZXNrdG9wLnN0eWxlLnBvc2l0aW9uID0gXCJzdGlja3lcIjtcclxuICAgICAgICBuYXZEZXNrdG9wLnN0eWxlLnRvcCA9IFwiMFwiXHJcbiAgICAgICAgbmF2RGVza3RvcC5zdHlsZS56SW5kZXggPSBcIjEwMDAwXCJcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbi8vIGVtYWlsXHJcbmVtYWlsanMuaW5pdChcImpISWZQWDk4eTBodlowS0tSXCIpO1xyXG5cclxuZnVuY3Rpb24gc2VuZEVtYWlsKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBaYXRyenltdWplIGRvbXnFm2xuxIUgYWtjasSZIHd5c3nFgmFuaWEgZm9ybXVsYXJ6YVxyXG5cclxuICAgIC8vIFBvYnJhbmllIGRhbnljaCB6IGZvcm11bGFyemFcclxuICAgIGNvbnN0IGZvcm1EYXRhID0ge1xyXG4gICAgICAgIG5hbWU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmFtZVwiKS52YWx1ZSxcclxuICAgICAgICBlbWFpbDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbWFpbFwiKS52YWx1ZSxcclxuICAgICAgICBtZXNzYWdlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lc3NhZ2VcIikudmFsdWVcclxuICAgIH07XHJcblxyXG4gICAgLy8gV3lzecWCa2EgZm9ybXVsYXJ6YSBwcnpleiBFbWFpbEpTXHJcbiAgICBlbWFpbGpzLnNlbmQoXCJzZXJ2aWNlX3I5M3dxbzlcIiwgXCJ0ZW1wbGF0ZV96MXBxbGVnXCIsIGZvcm1EYXRhKVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICBhbGVydChcIldpYWRvbW/Fm8SHIHpvc3RhxYJhIHd5c8WCYW5hIVwiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJTVUNDRVNTOlwiLCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgIGNvbnRhY3RGb3JtLnJlc2V0KCk7IC8vIFd5Y3p5xZvEhyBmb3JtdWxhcnogcG8gd3lzxYJhbml1XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KFwiQsWCxIVkISBOaWUgdWRhxYJvIHNpxJkgd3lzxYJhxIcgd2lhZG9tb8WbY2kuXCIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZBSUxFRDpcIiwgZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5jb25zdCBwcmVwYXJlRG9tRXZlbnRzID0gKCkgPT4ge1xyXG5cclxuICAgIC8vLy8vLy8vLy8gV1lXT8WBQU5JRSBGVU5LQ0pJIC8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcclxuICAgIGNvbnN0IGlzSG9tZSA9IGJvZHkuaWQgPT09IFwiaG9tZVwiO1xyXG5cclxuICAgIFxyXG4gICAgYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBidXJnZXJIYW5kbGUpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgbmF2SGFuZGxlKTtcclxuICAgIG5hdk1vYmlsZUl0ZW1zLmZvckVhY2goZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUNsb3NlTmF2KSk7XHJcbiAgICB0cmFpbmluZ0J0bnMuZm9yRWFjaChidXR0b24gPT4gYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVTZWN0aW9uVmlzaWJpbGl0eSkpO1xyXG4gICAgY29udGFjdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBzZW5kRW1haWwpO1xyXG5cclxuICAgIGlmIChpc0hvbWUpIHtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTaG93QWJvdXQpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhlcm9IYW5kbGUpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZVNob3dTaG9wKTtcclxuXHJcbiAgICB9XHJcblxyXG4gXHJcblxyXG59XHJcblxyXG4vLy8vLyBHxYFPV05FIFdZV0/FgUFOSUUgRlVOS0NKSSAvLy8vL1xyXG5cclxuY29uc3QgbWFpbiA9ICgpID0+IHtcclxuICBcclxuXHJcbiAgICBwcmVwYXJlRG9tRWxlbWVudHMoKTtcclxuICAgIHByZXBhcmVEb21FdmVudHMoKTtcclxufVxyXG5cclxuXHJcblxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBtYWluKSJdfQ==
